(()=>{var e={};e.id=786,e.ids=[786],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4625:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),a(3544),a(621),a(7629),a(2523);var r=a(3191),s=a(8716),n=a(7922),i=a.n(n),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["add-plant",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3544)),"/Users/michaelpreciado/Documents/GitHub/Planter/src/app/add-plant/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,621)),"/Users/michaelpreciado/Documents/GitHub/Planter/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"/Users/michaelpreciado/Documents/GitHub/Planter/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,2523)),"/Users/michaelpreciado/Documents/GitHub/Planter/src/app/not-found.tsx"]}],d=["/Users/michaelpreciado/Documents/GitHub/Planter/src/app/add-plant/page.tsx"],u="/add-plant/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/add-plant/page",pathname:"/add-plant",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7694:(e,t,a)=>{Promise.resolve().then(a.bind(a,2209))},2209:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(326),s=a(7577),n=a(2458),i=a(5047),l=a(3461),o=a(1152),c=a(2538),d=a(2018),u=a(5141);let m=[{id:"succulent",name:"Succulent",icon:"\uD83C\uDF35"},{id:"herb",name:"Herb",icon:"\uD83C\uDF3F"},{id:"flower",name:"Flower",icon:"\uD83C\uDF38"},{id:"vegetable",name:"Vegetable",icon:"\uD83E\uDD6C"},{id:"tree",name:"Tree",icon:"\uD83C\uDF33"},{id:"fern",name:"Fern",icon:"\uD83C\uDF3F"},{id:"cactus",name:"Cactus",icon:"\uD83C\uDF35"},{id:"tropical",name:"Tropical",icon:"\uD83C\uDF3A"}];function p(){let e=(0,i.useRouter)(),{addPlant:t}=(0,l.qF)(),a=(0,o.OW)(),[p,h]=(0,s.useState)({name:"",species:"",wateringFrequency:7,notes:"",noteAttachments:[]}),[x,g]=(0,s.useState)(""),[f,y]=(0,s.useState)(!1);(0,o.qb)({onSwipeRight:()=>{e.back(),a.lightImpact()}});let b=async r=>{if(r.preventDefault(),!p.name.trim()||!x){a.error();return}y(!0),a.mediumImpact();try{t({name:p.name.trim(),species:x,wateringFrequency:p.wateringFrequency,notes:p.notes.trim(),noteAttachments:p.noteAttachments,plantingDate:new Date().toISOString()}),a.success(),e.push("/list")}catch(e){a.error(),y(!1)}},v=e=>{g(e),h(t=>({...t,species:e})),a.lightImpact()},j=e=>{h(t=>({...t,wateringFrequency:e})),a.lightImpact()},w=e=>{h(t=>({...t,noteAttachments:t.noteAttachments.filter((t,a)=>a!==e)})),a.lightImpact()};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col pb-20",children:[(0,r.jsxs)(n.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white shadow-sm flex items-center justify-between px-6 py-4 pt-safe relative z-10 dark:bg-gray-800",children:[r.jsx(n.E.button,{onClick:()=>{e.back(),a.lightImpact()},className:"text-gray-700 p-2 -m-2 rounded-lg active:bg-gray-100 transition-colors btn-mobile dark:text-gray-300 dark:active:bg-gray-700",whileTap:{scale:.9},children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Plant"}),r.jsx(u.R,{})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsxs)("form",{onSubmit:b,className:"p-6 space-y-8",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Plant Name *"}),r.jsx("input",{type:"text",id:"name",value:p.name,onChange:e=>h(t=>({...t,name:e.target.value})),className:"input input-mobile w-full touch-manipulation",placeholder:"My beautiful plant",required:!0})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Plant Type *"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map((e,t)=>(0,r.jsxs)(n.E.button,{type:"button",onClick:()=>v(e.id),className:`p-4 rounded-xl border-2 transition-all duration-200 btn-mobile touch-feedback ${x===e.id?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+.05*t},whileTap:{scale:.95},children:[r.jsx("div",{className:"text-3xl mb-2",children:e.icon}),r.jsx("div",{className:"text-sm font-medium",children:e.name})]},e.id))})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Watering Frequency"}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Every"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:p.wateringFrequency}),r.jsx("span",{className:"text-sm text-gray-600",children:1===p.wateringFrequency?"day":"days"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"range",min:"1",max:"30",value:p.wateringFrequency,onChange:e=>j(parseInt(e.target.value)),className:"range-slider w-full touch-manipulation"}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[r.jsx("span",{children:"1 day"}),r.jsx("span",{children:"30 days"})]})]})]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[r.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes & Photos (Optional)"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("textarea",{id:"notes",value:p.notes,onChange:e=>h(t=>({...t,notes:e.target.value})),className:"input input-mobile w-full resize-none",rows:3,placeholder:"Special care instructions, location, etc."}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Photo Attachments"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[p.noteAttachments.length,"/5 photos"]})]}),p.noteAttachments.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-3 mb-3",children:p.noteAttachments.map((e,t)=>(0,r.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"relative bg-gray-100 rounded-xl overflow-hidden",style:{aspectRatio:"3/2"},children:[r.jsx("img",{src:e,alt:`Note attachment ${t+1}`,className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",onClick:()=>w(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 shadow-lg hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),p.noteAttachments.length<5&&r.jsx("div",{className:"w-full",style:{aspectRatio:"3/2"},children:r.jsx(c.X,{onImageCapture:e=>{e&&h(t=>({...t,noteAttachments:[...t.noteAttachments,e]})),a.success()},placeholder:"Add Note Photo"})})]})]})]}),r.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"pt-4 pb-safe",children:r.jsx(n.E.button,{type:"submit",disabled:!p.name.trim()||!x||f,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all duration-200 btn-mobile ${p.name.trim()&&x&&!f?"bg-gradient-to-r from-green-500 to-emerald-500 text-white active:from-green-600 active:to-emerald-600 shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,whileTap:f?{}:{scale:.98},children:f?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(n.E.div,{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Adding Plant..."]}):r.jsx(r.Fragment,{children:"\uD83C\uDF31 Add Plant"})})}),r.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:2},className:"text-center text-xs text-gray-500 pb-4",children:"\uD83D\uDC49 Swipe right to go back"})]})}),r.jsx(d.BottomNavigation,{})]})}},2538:(e,t,a)=>{"use strict";a.d(t,{X:()=>l});var r=a(326),s=a(7577),n=a(2458),i=a(6462);function l({onImageCapture:e,currentImage:t,placeholder:a="Add Photo"}){let[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(null),m=(0,s.useRef)(null),p=e=>{let t=e.target.files?.[0];t&&h(t),o(!1)},h=t=>{if(d(!0),t.size>5242880){alert("Image size must be less than 5MB"),d(!1);return}let a=new FileReader;a.onload=t=>{let a=t.target?.result,r=new Image;r.onload=()=>{let t=document.createElement("canvas"),a=t.getContext("2d"),{width:s,height:n}=r;s>n?s>800&&(n=800*n/s,s=800):n>800&&(s=800*s/n,n=800),t.width=s,t.height=n,a?.drawImage(r,0,0,s,n),e(t.toDataURL("image/jpeg",.8)),d(!1)},r.src=a},a.readAsDataURL(t)};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(n.E.div,{onClick:()=>o(!0),className:"relative bg-gray-100 rounded-2xl overflow-hidden cursor-pointer hover:bg-gray-200 transition-colors",style:{aspectRatio:"4/3"},whileTap:{scale:.98},children:[t?r.jsx("img",{src:t,alt:"Plant photo",className:"w-full h-full object-cover"}):(0,r.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500",children:[(0,r.jsxs)("svg",{className:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-sm font-medium",children:a}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Tap to add photo"})]}),c&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm font-medium",children:"Processing image..."})]})}),t&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"bg-black bg-opacity-50 rounded-full p-1",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})})]}),r.jsx(i.M,{children:l&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>o(!1)}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-4 left-4 right-4 bg-white rounded-2xl p-6 z-50 shadow-2xl",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:t?"Update Photo":"Add Photo"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{onClick:()=>m.current?.click(),className:"w-full bg-green-500 text-white py-4 rounded-xl font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-3",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Take Photo"]}),(0,r.jsxs)("button",{onClick:()=>u.current?.click(),className:"w-full bg-blue-500 text-white py-4 rounded-xl font-medium hover:bg-blue-600 transition-colors flex items-center justify-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Choose from Gallery"]}),t&&(0,r.jsxs)("button",{onClick:()=>{e(""),o(!1)},className:"w-full bg-red-500 text-white py-4 rounded-xl font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Photo"]}),r.jsx("button",{onClick:()=>o(!1),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})}),r.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:p,className:"hidden"}),r.jsx("input",{ref:m,type:"file",accept:"image/*",capture:"environment",onChange:p,className:"hidden"})]})}},5141:(e,t,a)=>{"use strict";a.d(t,{R:()=>l});var r=a(326);a(7577);var s=a(2458),n=a(3119),i=a(1152);function l({className:e=""}){let{theme:t,setTheme:a,resolvedTheme:l}=(0,n.F)(),o=(0,i.OW)(),c="dark"===l;return(0,r.jsxs)(s.E.button,{onClick:()=>{a(c?"light":"dark"),o.lightImpact()},className:`p-2 rounded-full bg-white/80 backdrop-blur border border-gray-200 shadow-lg hover:bg-white/90 transition-colors dark:bg-gray-800/80 dark:border-gray-700 dark:hover:bg-gray-800/90 ${e}`,"aria-label":c?"Switch to light mode":"Switch to dark mode",whileTap:{scale:.95},children:[(0,r.jsxs)(s.E.div,{initial:!1,animate:{rotate:c?180:0,scale:c?1.1:1},transition:{duration:.3,ease:"easeInOut"},className:"relative w-6 h-6",children:[r.jsx(s.E.svg,{className:"absolute inset-0 w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:c?0:1,scale:c?.5:1,rotate:c?90:0},transition:{duration:.3},children:r.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}),r.jsx(s.E.svg,{className:"absolute inset-0 w-6 h-6 text-indigo-400",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:c?1:0,scale:c?1:.5,rotate:c?0:-90},transition:{duration:.3},children:r.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})})]}),r.jsx(s.E.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:c?"0 0 20px rgba(99, 102, 241, 0.3)":"0 0 20px rgba(251, 191, 36, 0.3)"},transition:{duration:.3}})]})}},3544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`/Users/michaelpreciado/Documents/GitHub/Planter/src/app/add-plant/page.tsx#default`)},6462:(e,t,a)=>{"use strict";a.d(t,{M:()=>g});var r=a(7577),s=a(2482);function n(){let e=(0,r.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=a(805),l=a(295),o=a(7977);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let a=(0,r.useId)(),s=(0,r.useRef)(null),n=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:i,left:l}=n.current;if(t||!s.current||!e||!r)return;s.current.dataset.motionPopId=a;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),r.createElement(c,{isPresent:t,childRef:s,sizeRef:n},r.cloneElement(e,{ref:s}))}let u=({children:e,initial:t,isPresent:a,onExitComplete:s,custom:n,presenceAffectsLayout:i,mode:c})=>{let u=(0,o.h)(m),p=(0,r.useId)(),h=(0,r.useMemo)(()=>({id:p,initial:t,isPresent:a,custom:n,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),i?void 0:[a]);return(0,r.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[a]),r.useEffect(()=>{a||u.size||!s||s()},[a]),"popLayout"===c&&(e=r.createElement(d,{isPresent:a},e)),r.createElement(l.O.Provider,{value:h},e)};function m(){return new Map}var p=a(339),h=a(4673);let x=e=>e.key||"",g=({children:e,custom:t,initial:a=!0,onExitComplete:l,exitBeforeEnter:o,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var m;(0,h.k)(!o,"Replace exitBeforeEnter with mode='wait'");let g=(0,r.useContext)(p.p).forceRender||function(){let e=n(),[t,a]=(0,r.useState)(0),s=(0,r.useCallback)(()=>{e.current&&a(t+1)},[t]);return[(0,r.useCallback)(()=>i.Wi.postRender(s),[s]),t]}()[0],f=n(),y=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),b=y,v=(0,r.useRef)(new Map).current,j=(0,r.useRef)(b),w=(0,r.useRef)(new Map).current,k=(0,r.useRef)(!0);if((0,s.L)(()=>{k.current=!1,function(e,t){e.forEach(e=>{let a=x(e);t.set(a,e)})}(y,w),j.current=b}),m=()=>{k.current=!0,w.clear(),v.clear()},(0,r.useEffect)(()=>()=>m(),[]),k.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(u,{key:x(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:c,mode:d},e)));b=[...b];let N=j.current.map(x),C=y.map(x),E=N.length;for(let e=0;e<E;e++){let t=N[e];-1!==C.indexOf(t)||v.has(t)||v.set(t,void 0)}return"wait"===d&&v.size&&(b=[]),v.forEach((e,a)=>{if(-1!==C.indexOf(a))return;let s=w.get(a);if(!s)return;let n=N.indexOf(a),i=e;i||(i=r.createElement(u,{key:x(s),isPresent:!1,onExitComplete:()=>{v.delete(a);let e=Array.from(w.keys()).filter(e=>!C.includes(e));if(e.forEach(e=>w.delete(e)),j.current=y.filter(t=>{let r=x(t);return r===a||e.includes(r)}),!v.size){if(!1===f.current)return;g(),l&&l()}},custom:t,presenceAffectsLayout:c,mode:d},s),v.set(a,i)),b.splice(n,0,i)}),b=b.map(e=>{let t=e.key;return v.has(t)?e:r.createElement(u,{key:x(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),r.createElement(r.Fragment,null,v.size?b:b.map(e=>(0,r.cloneElement)(e)))}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[157,287],()=>a(4625));module.exports=r})();