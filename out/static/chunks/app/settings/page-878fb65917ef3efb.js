(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{8797:function(e,t,a){Promise.resolve().then(a.bind(a,8301))},8301:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(7437),s=a(2261),r=a(7648),i=a(1256);function l(){let{plants:e}=(0,i.qF)(),t={totalPlants:e.length,healthyPlants:e.filter(e=>"healthy"===e.status).length,plantsNeedingWater:e.filter(e=>"needs_water"===e.status||"overdue"===e.status).length};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,n.jsxs)(s.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white shadow-sm flex items-center justify-between px-6 py-4 pt-safe",children:[(0,n.jsx)(r.default,{href:"/",className:"text-gray-700",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),(0,n.jsx)("div",{className:"w-6"})]}),(0,n.jsxs)("div",{className:"flex-1 px-6 py-6 pb-safe",children:[(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Garden Stats"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.totalPlants}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Total Plants"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.healthyPlants}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Healthy"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:t.plantsNeedingWater}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Need Water"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Plant Care"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:"Watering Reminders"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Get notified when plants need water"})]}),(0,n.jsx)("div",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:(0,n.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5 shadow-sm"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:"Daily Check-ins"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Reminder to check your plants"})]}),(0,n.jsx)("div",{className:"w-12 h-6 bg-gray-300 rounded-full relative",children:(0,n.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute left-0.5 top-0.5 shadow-sm"})})]})]})]})}),(0,n.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"App Preferences"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:"Dark Mode"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Switch to dark theme"})]}),(0,n.jsx)("div",{className:"w-12 h-6 bg-gray-300 rounded-full relative",children:(0,n.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute left-0.5 top-0.5 shadow-sm"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:"Animations"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Enable app animations"})]}),(0,n.jsx)("div",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:(0,n.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5 shadow-sm"})})]})]})]})}),(0,n.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"About"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-gray-700",children:"Version"}),(0,n.jsx)("span",{className:"text-gray-500",children:"1.0.0"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-gray-700",children:"Made with"}),(0,n.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDC9A Next.js & Tailwind"})]})]})]})}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mt-6",children:[(0,n.jsxs)(r.default,{href:"/add-plant",className:"bg-green-500 text-white p-4 rounded-xl text-center font-medium hover:bg-green-600 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDF31"}),"Add Plant"]}),(0,n.jsxs)(r.default,{href:"/list",className:"bg-blue-500 text-white p-4 rounded-xl text-center font-medium hover:bg-blue-600 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCCB"}),"View List"]})]})]})]})]})}},1256:function(e,t,a){"use strict";a.d(t,{BO:function(){return j},qF:function(){return N}});var n=a(7437),s=a(9625),r=a(6885),i=a(9360),l=a(9121),d=a(2093),c=a(5341),o=a(5843),u=a(2265);let h=["\uD83C\uDF31","\uD83C\uDF43","\uD83C\uDF3F","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF39","\uD83C\uDF37","\uD83C\uDF35","\uD83C\uDF45","\uD83E\uDD55","\uD83C\uDF3E","\uD83C\uDF38","\uD83C\uDF3C","\uD83E\uDEB4","\uD83C\uDF33"],m=["#10B981","#3B82F6","#8B5CF6","#EF4444","#F59E0B","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1"],g=e=>{let t=(0,l.E)(new Date,e);return 1===e?"Tomorrow":e<=7?"in ".concat(e," days"):(0,d.WU)(t,"MMM dd")},x=(e,t)=>{if(!e||"Just planted"===e)return"healthy";let a=new Date(e),n=Math.floor((Date.now()-a.getTime())/864e5);return n>t+2?"overdue":n>=t?"needs_water":"healthy"},y=e=>({id:e.id,name:e.name,species:e.species,plantingDate:e.plantingDate||e.plantedDate||new Date().toISOString(),wateringFrequency:e.wateringFrequency,icon:e.icon,iconColor:e.iconColor,lastWatered:e.lastWatered,nextWatering:e.nextWatering,status:e.status,notes:e.notes,noteAttachments:e.noteAttachments,imageUrl:e.imageUrl,createdAt:e.createdAt,updatedAt:e.updatedAt}),p=(e,t)=>({name:e.name,species:e.species,plantedDate:e.plantingDate,plantingDate:e.plantingDate,wateringFrequency:e.wateringFrequency,icon:e.icon,iconColor:e.iconColor,lastWatered:e.lastWatered,nextWatering:e.nextWatering||g(e.wateringFrequency),status:e.status,notes:e.notes,noteAttachments:e.noteAttachments,imageUrl:e.imageUrl,userId:t}),w=()=>{let e=new Date().toISOString(),t=(0,c.k)(new Date,1).toISOString(),a=(0,c.k)(new Date,3).toISOString(),n=(0,c.k)(new Date,7).toISOString();return[{id:(0,i.Z)(),name:"Sunny the Sunflower",species:"Helianthus annuus",plantingDate:(0,c.k)(new Date,30).toISOString(),wateringFrequency:2,icon:"\uD83C\uDF3B",iconColor:"#F59E0B",lastWatered:t,nextWatering:"Tomorrow",status:"healthy",notes:"Growing beautifully! Loves the morning sun.",createdAt:e,updatedAt:e},{id:(0,i.Z)(),name:"Rosie",species:"Rosa gallica",plantingDate:(0,c.k)(new Date,45).toISOString(),wateringFrequency:3,icon:"\uD83C\uDF39",iconColor:"#EC4899",lastWatered:a,nextWatering:"Today",status:"needs_water",notes:"Beautiful red blooms. Needs regular watering.",createdAt:e,updatedAt:e},{id:(0,i.Z)(),name:"Spike",species:"Opuntia microdasys",plantingDate:(0,c.k)(new Date,60).toISOString(),wateringFrequency:14,icon:"\uD83C\uDF35",iconColor:"#10B981",lastWatered:n,nextWatering:"in 7 days",status:"healthy",notes:"Low maintenance desert friend. Water sparingly.",createdAt:e,updatedAt:e},{id:(0,i.Z)(),name:"Basil Buddy",species:"Ocimum basilicum",plantingDate:(0,c.k)(new Date,20).toISOString(),wateringFrequency:1,icon:"\uD83C\uDF3F",iconColor:"#84CC16",lastWatered:(0,c.k)(new Date,5).toISOString(),nextWatering:"Overdue",status:"overdue",notes:"Perfect for cooking! Needs daily water.",createdAt:e,updatedAt:e}]},f=(0,s.Ue)()((0,r.tJ)((e,t)=>({plants:[],recentlyWateredPlant:null,loading:!1,error:null,syncWithDatabase:async()=>{e({loading:!0,error:null});try{let t=(await o.Pr.getPlants()).map(y);e({plants:t,loading:!1})}catch(t){console.error("Failed to sync with database:",t),e({error:t instanceof Error?t.message:"Sync failed",loading:!1})}},addPlant:async t=>{e({loading:!0,error:null});try{let a={...t,id:(0,i.Z)(),icon:h[Math.floor(Math.random()*h.length)],iconColor:m[Math.floor(Math.random()*m.length)],status:"healthy",lastWatered:"Just planted",nextWatering:g(t.wateringFrequency),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{let t=await o.Pr.createPlant(p(a,"")),n=y(t);e(e=>({plants:[...e.plants,n],loading:!1}))}catch(t){console.warn("Database add failed, adding locally:",t),e(e=>({plants:[...e.plants,a],loading:!1}))}}catch(t){e({error:t instanceof Error?t.message:"Failed to add plant",loading:!1})}},removePlant:async t=>{e({loading:!0,error:null});try{try{await o.Pr.deletePlant(t)}catch(e){console.warn("Database delete failed, removing locally:",e)}e(e=>({plants:e.plants.filter(e=>e.id!==t),loading:!1}))}catch(t){e({error:t instanceof Error?t.message:"Failed to remove plant",loading:!1})}},updatePlant:async(a,n)=>{e({loading:!0,error:null});try{let s=t().plants.find(e=>e.id===a);if(!s)throw Error("Plant not found");let r={...n,updatedAt:new Date().toISOString(),status:n.lastWatered?x(n.lastWatered,s.wateringFrequency):n.status||s.status};try{await o.Pr.updatePlant(a,r)}catch(e){console.warn("Database update failed, updating locally:",e)}e(e=>({plants:e.plants.map(e=>e.id===a?{...e,...r}:e),loading:!1}))}catch(t){e({error:t instanceof Error?t.message:"Failed to update plant",loading:!1})}},waterPlant:async a=>{let n=new Date().toISOString(),s=t().plants.find(e=>e.id===a);s&&(await t().updatePlant(a,{lastWatered:n,status:"healthy",nextWatering:g(s.wateringFrequency)}),e({recentlyWateredPlant:a}),setTimeout(()=>{e({recentlyWateredPlant:null})},3e3))},clearRecentlyWatered:()=>{e({recentlyWateredPlant:null})},getPlantById:e=>t().plants.find(t=>t.id===e),getHealthyPlants:()=>t().plants.filter(e=>"healthy"===e.status),getPlantsNeedingWater:()=>t().plants.filter(e=>"needs_water"===e.status||"overdue"===e.status),initializeSampleData:()=>{let t=w();e(e=>({plants:[...e.plants,...t]}))}}),{name:"plant-store",partialize:e=>({plants:e.plants,recentlyWateredPlant:e.recentlyWateredPlant})})),D=(0,u.createContext)(null);function j(e){let{children:t}=e,a=f();return(0,n.jsx)(D.Provider,{value:a,children:t})}function N(){return(0,u.useContext)(D)||f()}},5843:function(e,t,a){"use strict";a.d(t,{OQ:function(){return n},Pr:function(){return s}});let n=(0,a(7026).eI)("https://ilmtmpgepdpjyiairdry.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsbXRtcGdlcGRwanlpYWlyZHJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3NjY3OTIsImV4cCI6MjA2NDM0Mjc5Mn0.9VxZ2Lv5ELgX6eoNo1Da0NaC5SCSqCUkWeK-j2IXP68"),s={async getPlants(){let{data:{user:e}}=await n.auth.getUser();if(!e)throw Error("User not authenticated");let{data:t,error:a}=await n.from("plants").select("*").eq("userId",e.id).order("createdAt",{ascending:!1});if(a)throw a;return t},async createPlant(e){let{data:{user:t}}=await n.auth.getUser();if(!t)throw Error("User not authenticated");let{data:a,error:s}=await n.from("plants").insert({...e,userId:t.id}).select().single();if(s)throw s;return a},async updatePlant(e,t){let{data:{user:a}}=await n.auth.getUser();if(!a)throw Error("User not authenticated");let{data:s,error:r}=await n.from("plants").update(t).eq("id",e).eq("userId",a.id).select().single();if(r)throw r;return s},async deletePlant(e){let{data:{user:t}}=await n.auth.getUser();if(!t)throw Error("User not authenticated");let{error:a}=await n.from("plants").delete().eq("id",e).eq("userId",t.id);if(a)throw a},async logWatering(e){return this.updatePlant(e,{lastWatered:new Date().toISOString()})}}}},function(e){e.O(0,[216,744],function(){return e(e.s=8797)}),_N_E=e.O()}]);