(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8107:function(e,t,a){Promise.resolve().then(a.bind(a,1058))},1058:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(7437),s=a(2261),i=a(5323),l=a(4021),n=a(2265),d=a(5095),o=a(4362),c=a(7802);function u(e){let{isOpen:t,onClose:a}=e,[i,l]=(0,n.useState)(!0),[u,h]=(0,n.useState)(""),[x,g]=(0,n.useState)(""),[m,y]=(0,n.useState)(""),[p,b]=(0,n.useState)(!1),[A,v]=(0,n.useState)(""),{signIn:f,signUp:w}=(0,o.a)(),j=(0,c.OW)(),k=async e=>{if(e.preventDefault(),u&&x){b(!0),v(""),j.mediumImpact();try{let e=i?await f(u,x):await w(u,x,m);e.error?(v(e.error),j.error()):(j.success(),a(),h(""),g(""),y(""))}catch(e){v("An unexpected error occurred"),j.error()}finally{b(!1)}}};return(0,r.jsx)(d.M,{children:t&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"relative w-full max-w-md mx-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i?"Welcome Back":"Create Account"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:i?"Sign in to your plant tracker":"Join to start tracking your plants"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF31"})})]})}),(0,r.jsxs)("form",{onSubmit:k,className:"px-6 py-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"your@email.com",required:!0})]}),!i&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username (Optional)"}),(0,r.jsx)("input",{type:"text",id:"username",value:m,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"Your display name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:x,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"Enter your password",required:!0,minLength:6})]}),A&&(0,r.jsx)(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3",children:(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:A})}),(0,r.jsx)(s.E.button,{type:"submit",disabled:p||!u||!x,className:"w-full py-3 rounded-xl font-semibold transition-all ".concat(!p&&u&&x?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 shadow-lg":"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed"),whileTap:p?{}:{scale:.98},children:p?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(s.E.div,{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),i?"Signing In...":"Creating Account..."]}):(0,r.jsxs)(r.Fragment,{children:["\uD83C\uDF31 ",i?"Sign In":"Create Account"]})}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{l(!i),v(""),j.lightImpact()},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors",children:[i?"Don't have an account? ":"Already have an account? ",(0,r.jsx)("span",{className:"font-semibold",children:i?"Sign Up":"Sign In"})]})})]})]})]})})}var h=a(1256),x=a(9376);function g(){var e,t;let{plants:a,initializeSampleData:d}=(0,h.qF)(),{user:g,signOut:m,loading:y}=(0,o.a)(),p=(0,x.useRouter)(),b=(0,c.OW)(),[A,v]=(0,n.useState)(!1),[f,w]=(0,n.useState)(!1),j=a.filter(e=>"healthy"===e.status).length,k=a.filter(e=>"needs_water"===e.status||"overdue"===e.status).length;(0,c.qb)({onSwipeLeft:()=>{p.push("/list"),b.lightImpact()},onSwipeRight:()=>{p.push("/add-plant"),b.lightImpact()}});let N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},C=async()=>{b.mediumImpact(),await m()};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex flex-col pb-20 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,r.jsx)(s.E.div,{variants:N,initial:"hidden",animate:"visible",className:"flex justify-end items-center pt-safe px-6 py-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[g?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(e=g.user_metadata)||void 0===e?void 0:e.username)||(null===(t=g.email)||void 0===t?void 0:t.split("@")[0])}),(0,r.jsx)("button",{onClick:C,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:"Sign Out"})]}),(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-lg",children:"\uD83C\uDF31"})})]}):(0,r.jsx)(s.E.button,{onClick:()=>w(!0),className:"bg-white/20 dark:bg-gray-800/30 backdrop-blur-md border border-white/30 dark:border-gray-700/50 hover:bg-white/30 dark:hover:bg-gray-700/40 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 shadow-lg hover:shadow-xl",whileTap:{scale:.95},disabled:y,children:y?"...":"\uD83C\uDF31 Sign In"}),(0,r.jsx)(l.R,{})]})}),(0,r.jsxs)(s.E.header,{variants:N,initial:"hidden",animate:"visible",className:"text-center px-6 pb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 dark:text-white",children:"Plant Tracker"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Keep your plants happy and healthy"})]}),(0,r.jsx)(s.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},initial:"hidden",animate:"visible",className:"flex-1 flex items-center justify-center px-6",children:(0,r.jsxs)("div",{className:"max-w-sm w-full",children:[(0,r.jsx)(s.E.div,{variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},className:"mb-8 flex justify-center",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.O,{size:200,showAnimation:!0}),(0,r.jsx)(s.E.div,{variants:N,className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center",children:g?k>0?(0,r.jsx)("span",{className:"text-red-500 text-lg",children:"\uD83D\uDE30"}):(0,r.jsx)("span",{className:"text-green-500 text-lg",children:"\uD83D\uDE0A"}):(0,r.jsx)("span",{className:"text-blue-500 text-lg",children:"\uD83D\uDE34"})})]})}),!g&&(0,r.jsxs)(s.E.div,{variants:N,className:"bg-white/40 dark:bg-gray-800/40 backdrop-blur-md border border-white/30 dark:border-gray-700/50 rounded-2xl p-6 mb-8 text-center shadow-lg",children:[(0,r.jsx)("div",{className:"text-gray-700 dark:text-gray-200 text-sm font-medium mb-2",children:"\uD83C\uDF31 Welcome to Plant Tracker"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:"Sign in to save your plants and sync across devices"}),(0,r.jsx)(s.E.button,{onClick:()=>w(!0),className:"bg-white/30 dark:bg-gray-700/40 backdrop-blur-md border border-white/40 dark:border-gray-600/50 hover:bg-white/40 dark:hover:bg-gray-600/50 text-gray-700 dark:text-gray-200 px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",whileTap:{scale:.95},children:"Get Started"})]}),g&&a.length>0&&(0,r.jsx)(s.E.div,{variants:N,className:"bg-white/80 backdrop-blur rounded-2xl p-6 mb-8 shadow-lg dark:bg-gray-800/80",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j}),(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Healthy Plants"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:k}),(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Need Water"})]})]})}),(0,r.jsx)(s.E.div,{variants:N,className:"space-y-4",children:g&&0===a.length&&(0,r.jsx)(s.E.div,{variants:N,className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-2xl p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 text-sm font-medium mb-2",children:"No plants yet?"}),(0,r.jsx)("button",{onClick:()=>{d(),b.success(),setTimeout(()=>{p.push("/list")},500)},className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors",children:"Add Sample Plants for Testing"})]})})}),g&&(0,r.jsx)(s.E.div,{variants:N,className:"text-center mt-8 text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDC48 Swipe left for plants • Swipe right to add plant \uD83D\uDC49"})]})}),(0,r.jsx)(u,{isOpen:f,onClose:()=>w(!1)})]})}},4021:function(e,t,a){"use strict";a.d(t,{R:function(){return n}});var r=a(7437);a(2265);var s=a(2261),i=a(1554),l=a(7802);function n(e){let{className:t=""}=e,{theme:a,setTheme:n,resolvedTheme:d}=(0,i.F)(),o=(0,l.OW)(),c="dark"===d;return(0,r.jsxs)(s.E.button,{onClick:()=>{n(c?"light":"dark"),o.lightImpact()},className:"p-2 rounded-full bg-white/80 backdrop-blur border border-gray-200 shadow-lg hover:bg-white/90 transition-colors dark:bg-gray-800/80 dark:border-gray-700 dark:hover:bg-gray-800/90 ".concat(t),"aria-label":c?"Switch to light mode":"Switch to dark mode",whileTap:{scale:.95},children:[(0,r.jsxs)(s.E.div,{initial:!1,animate:{rotate:c?180:0,scale:c?1.1:1},transition:{duration:.3,ease:"easeInOut"},className:"relative w-6 h-6",children:[(0,r.jsx)(s.E.svg,{className:"absolute inset-0 w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:c?0:1,scale:c?.5:1,rotate:c?90:0},transition:{duration:.3},children:(0,r.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}),(0,r.jsx)(s.E.svg,{className:"absolute inset-0 w-6 h-6 text-indigo-400",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:c?1:0,scale:c?1:.5,rotate:c?0:-90},transition:{duration:.3},children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})})]}),(0,r.jsx)(s.E.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:c?"0 0 20px rgba(99, 102, 241, 0.3)":"0 0 20px rgba(251, 191, 36, 0.3)"},transition:{duration:.3}})]})}},5323:function(e,t,a){"use strict";a.d(t,{O:function(){return c}});var r=a(7437),s=a(2265),i=a(2261),l=a(5095),n=a(3145),d=a(1256);let o=(0,s.memo)(e=>{let{type:t,delay:a}=e,l=(0,s.useMemo)(()=>({initial:{opacity:0,scale:0,y:0},animate:{opacity:[0,1,1,0],scale:[0,1,1.2,0],y:[-20,-40,-60,-80]},exit:{opacity:0,scale:0}}),[]);return(0,r.jsx)(i.E.div,{className:"absolute text-2xl pointer-events-none",variants:l,initial:"initial",animate:"animate",exit:"exit",transition:{duration:2,delay:a,ease:"easeOut"},style:{left:"".concat(20+60*Math.random(),"%"),top:"".concat(20+40*Math.random(),"%")},children:t})});o.displayName="Particle";let c=(0,s.memo)(e=>{let{size:t=150,showAnimation:a=!1,mood:c="neutral"}=e,{plants:u}=(0,d.qF)(),[h,x]=(0,s.useState)(!1),[g,m]=(0,s.useState)([]),[y,p]=(0,s.useState)(!1),b=(0,s.useMemo)(()=>{if(0===u.length)return"neutral";let e=u.filter(e=>"overdue"===e.status).length,t=u.filter(e=>"needs_water"===e.status).length,a=u.filter(e=>"healthy"===e.status).length;return e>0?"mad":t>0?"sad":a>0?"happy":"neutral"},[u]),A="neutral"!==c?c:b,v=(0,s.useMemo)(()=>{switch(A){case"happy":return"hue-rotate(60deg) saturate(1.2) brightness(1.1)";case"sad":return"hue-rotate(240deg) saturate(0.8) brightness(0.8)";case"mad":return"hue-rotate(0deg) saturate(1.5) brightness(1.2)";default:return"none"}},[A]),f=(0,s.useMemo)(()=>{switch(A){case"happy":return"#10B981";case"sad":return"#3B82F6";case"mad":return"#EF4444";default:return"#6B7280"}},[A]);(0,s.useEffect)(()=>{if(!a)return;let e=setInterval(()=>{x(!0),setTimeout(()=>x(!1),3e3)},8e3);return()=>clearInterval(e)},[a]);let w=(0,s.useMemo)(()=>(e,t)=>Array.from({length:t},(t,a)=>({id:Date.now()+a,type:e,delay:.2*a})),[]);return(0,s.useEffect)(()=>{if(!h)return;let e=[];switch(A){case"happy":e=w("✨",5);break;case"sad":e=w("\uD83D\uDCA7",3);break;case"mad":e=w("\uD83D\uDCA2",3);break;default:e=w("\uD83C\uDF3F",2)}m(e),setTimeout(()=>m([]),2500)},[h,A,w]),(0,r.jsxs)("div",{className:"relative inline-block cursor-pointer select-none",style:{width:t,height:t},onClick:()=>x(!h),onTouchStart:()=>x(!h),children:[(0,r.jsx)(i.E.div,{className:"absolute inset-0 rounded-full opacity-30 blur-xl",style:{backgroundColor:f},animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,r.jsx)(i.E.div,{className:"relative w-full h-full",initial:{scale:.5,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,duration:.8,onComplete:()=>p(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,r.jsx)(i.E.div,{className:"w-full h-full",animate:h?{}:{scale:[1,1.02,1],rotate:[0,1,-1,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:(0,r.jsx)(i.E.div,{className:"w-full h-full relative",animate:h?{scale:[1,1.1,.95,1.05,1],rotate:[0,-5,5,-2,0],y:[0,-10,5,-5,0]}:{},transition:{duration:2,ease:"easeInOut"},children:(0,r.jsx)(n.default,{src:"/assets/tamagatchi.png",alt:"Tamagotchi Pet",width:t,height:t,className:"w-full h-full object-contain",style:{filter:v,imageRendering:"crisp-edges"},priority:t>100,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k="})})})}),(0,r.jsx)(l.M,{children:g.map(e=>(0,r.jsx)(o,{type:e.type,delay:e.delay},e.id))})]})});c.displayName="TamagotchiBlob"},4362:function(e,t,a){"use strict";a.d(t,{H:function(){return n},a:function(){return d}});var r=a(7437),s=a(2265),i=a(5843);let l=(0,s.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await i.OQ.auth.getSession();o(t),n(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),u(!1)})();let{data:{subscription:e}}=i.OQ.auth.onAuthStateChange(async(e,t)=>{var a;o(t),n(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),u(!1)});return()=>e.unsubscribe()},[]);let h=async(e,t)=>{try{let{error:a}=await i.OQ.auth.signInWithPassword({email:e,password:t});if(a)return{error:a.message};return{}}catch(e){return{error:"An unexpected error occurred"}}},x=async(e,t,a)=>{try{let{error:r}=await i.OQ.auth.signUp({email:e,password:t,options:{data:{username:a||e.split("@")[0]}}});if(r)return{error:r.message};return{}}catch(e){return{error:"An unexpected error occurred"}}},g=async()=>{await i.OQ.auth.signOut()};return(0,r.jsx)(l.Provider,{value:{user:a,session:d,loading:c,signIn:h,signUp:x,signOut:g},children:t})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[216,568,744],function(){return e(e.s=8107)}),_N_E=e.O()}]);