(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{6714:function(e,t,a){Promise.resolve().then(a.bind(a,3769))},3769:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(7437),i=a(2265),s=a(2261),r=a(9376),l=a(1256),o=a(7802),c=a(9581),d=a(930),m=a(4021);let u=[{id:"succulent",name:"Succulent",icon:"\uD83C\uDF35"},{id:"herb",name:"Herb",icon:"\uD83C\uDF3F"},{id:"flower",name:"Flower",icon:"\uD83C\uDF38"},{id:"vegetable",name:"Vegetable",icon:"\uD83E\uDD6C"},{id:"tree",name:"Tree",icon:"\uD83C\uDF33"},{id:"fern",name:"Fern",icon:"\uD83C\uDF3F"},{id:"cactus",name:"Cactus",icon:"\uD83C\uDF35"},{id:"tropical",name:"Tropical",icon:"\uD83C\uDF3A"}];function h(){let e=(0,r.useRouter)(),{addPlant:t}=(0,l.qF)(),a=(0,o.OW)(),[h,x]=(0,i.useState)({name:"",species:"",wateringFrequency:7,notes:"",noteAttachments:[]}),[g,p]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1);(0,o.qb)({onSwipeRight:()=>{e.back(),a.lightImpact()}});let f=async n=>{if(n.preventDefault(),!h.name.trim()||!g){a.error();return}y(!0),a.mediumImpact();try{t({name:h.name.trim(),species:g,wateringFrequency:h.wateringFrequency,notes:h.notes.trim(),noteAttachments:h.noteAttachments,plantingDate:new Date().toISOString()}),a.success(),e.push("/list")}catch(e){a.error(),y(!1)}},v=e=>{p(e),x(t=>({...t,species:e})),a.lightImpact()},j=e=>{x(t=>({...t,wateringFrequency:e})),a.lightImpact()},w=e=>{x(t=>({...t,noteAttachments:t.noteAttachments.filter((t,a)=>a!==e)})),a.lightImpact()};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col pb-20",children:[(0,n.jsxs)(s.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white shadow-sm flex items-center justify-between px-6 py-4 pt-safe relative z-10 dark:bg-gray-800",children:[(0,n.jsx)(s.E.button,{onClick:()=>{e.back(),a.lightImpact()},className:"text-gray-700 p-2 -m-2 rounded-lg active:bg-gray-100 transition-colors btn-mobile dark:text-gray-300 dark:active:bg-gray-700",whileTap:{scale:.9},children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Plant"}),(0,n.jsx)(m.R,{})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,n.jsxs)("form",{onSubmit:f,className:"p-6 space-y-8",children:[(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,n.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Plant Name *"}),(0,n.jsx)("input",{type:"text",id:"name",value:h.name,onChange:e=>x(t=>({...t,name:e.target.value})),className:"input input-mobile w-full touch-manipulation",placeholder:"My beautiful plant",required:!0})]}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Plant Type *"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-3",children:u.map((e,t)=>(0,n.jsxs)(s.E.button,{type:"button",onClick:()=>v(e.id),className:"p-4 rounded-xl border-2 transition-all duration-200 btn-mobile touch-feedback ".concat(g===e.id?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+.05*t},whileTap:{scale:.95},children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,n.jsx)("div",{className:"text-sm font-medium",children:e.name})]},e.id))})]}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Watering Frequency"}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Every"}),(0,n.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:h.wateringFrequency}),(0,n.jsx)("span",{className:"text-sm text-gray-600",children:1===h.wateringFrequency?"day":"days"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"range",min:"1",max:"30",value:h.wateringFrequency,onChange:e=>j(parseInt(e.target.value)),className:"range-slider w-full touch-manipulation"}),(0,n.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,n.jsx)("span",{children:"1 day"}),(0,n.jsx)("span",{children:"30 days"})]})]})]})]}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[(0,n.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes & Photos (Optional)"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("textarea",{id:"notes",value:h.notes,onChange:e=>x(t=>({...t,notes:e.target.value})),className:"input input-mobile w-full resize-none",rows:3,placeholder:"Special care instructions, location, etc."}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Photo Attachments"}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:[h.noteAttachments.length,"/5 photos"]})]}),h.noteAttachments.length>0&&(0,n.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:h.noteAttachments.map((e,t)=>(0,n.jsxs)(s.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"relative bg-gray-100 rounded-xl overflow-hidden",style:{aspectRatio:"3/2"},children:[(0,n.jsx)("img",{src:e,alt:"Note attachment ".concat(t+1),className:"w-full h-full object-cover"}),(0,n.jsx)("button",{type:"button",onClick:()=>w(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 shadow-lg hover:bg-red-600 transition-colors",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),h.noteAttachments.length<5&&(0,n.jsx)("div",{className:"w-full",style:{aspectRatio:"3/2"},children:(0,n.jsx)(c.X,{onImageCapture:e=>{e&&x(t=>({...t,noteAttachments:[...t.noteAttachments,e]})),a.success()},placeholder:"Add Note Photo"})})]})]})]}),(0,n.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"pt-4 pb-safe",children:(0,n.jsx)(s.E.button,{type:"submit",disabled:!h.name.trim()||!g||b,className:"w-full py-4 rounded-xl font-semibold text-lg transition-all duration-200 btn-mobile ".concat(h.name.trim()&&g&&!b?"bg-gradient-to-r from-green-500 to-emerald-500 text-white active:from-green-600 active:to-emerald-600 shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),whileTap:b?{}:{scale:.98},children:b?(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)(s.E.div,{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Adding Plant..."]}):(0,n.jsx)(n.Fragment,{children:"\uD83C\uDF31 Add Plant"})})}),(0,n.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:2},className:"text-center text-xs text-gray-500 pb-4",children:"\uD83D\uDC49 Swipe right to go back"})]})}),(0,n.jsx)(d.BottomNavigation,{})]})}},930:function(e,t,a){"use strict";a.d(t,{BottomNavigation:function(){return o}});var n=a(7437);a(2265);var i=a(7648),s=a(9376),r=a(2261),l=a(7802);function o(){let e=(0,s.usePathname)(),t=(0,l.OW)(),a=()=>{t.lightImpact()};return(0,n.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe z-40",children:(0,n.jsx)("div",{className:"flex items-center justify-around px-6 py-2",children:[{href:"/list",label:"Plants",icon:e=>(0,n.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{href:"/",label:"Home",icon:e=>(0,n.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{href:"/add-plant",label:"Add",icon:e=>(0,n.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}].map(t=>{let s=e===t.href;return(0,n.jsxs)(i.default,{href:t.href,onClick:a,className:"relative flex flex-col items-center justify-center py-2 px-4 min-w-0 flex-1",children:[s&&(0,n.jsx)(r.E.div,{layoutId:"activeTab",className:"absolute -top-1 w-2 h-2 bg-green-600 rounded-full",initial:!1,transition:{type:"spring",stiffness:300,damping:30}}),(0,n.jsx)("div",{className:"mb-1",children:t.icon(s)}),(0,n.jsx)("span",{className:"text-xs font-medium ".concat(s?"text-green-600":"text-gray-400"),children:t.label})]},t.href)})})})}},9581:function(e,t,a){"use strict";a.d(t,{X:function(){return l}});var n=a(7437),i=a(2265),s=a(2261),r=a(5095);function l(e){let{onImageCapture:t,currentImage:a,placeholder:l="Add Photo"}=e,[o,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),u=(0,i.useRef)(null),h=(0,i.useRef)(null),x=e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&g(a),c(!1)},g=e=>{if(m(!0),e.size>5242880){alert("Image size must be less than 5MB"),m(!1);return}let a=new FileReader;a.onload=e=>{var a;let n=null===(a=e.target)||void 0===a?void 0:a.result,i=new Image;i.onload=()=>{let e=document.createElement("canvas"),a=e.getContext("2d"),{width:n,height:s}=i;n>s?n>800&&(s=800*s/n,n=800):s>800&&(n=800*n/s,s=800),e.width=n,e.height=s,null==a||a.drawImage(i,0,0,n,s),t(e.toDataURL("image/jpeg",.8)),m(!1)},i.src=n},a.readAsDataURL(e)};return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(s.E.div,{onClick:()=>c(!0),className:"relative bg-gray-100 rounded-2xl overflow-hidden cursor-pointer hover:bg-gray-200 transition-colors",style:{aspectRatio:"4/3"},whileTap:{scale:.98},children:[a?(0,n.jsx)("img",{src:a,alt:"Plant photo",className:"w-full h-full object-cover"}):(0,n.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500",children:[(0,n.jsxs)("svg",{className:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,n.jsx)("span",{className:"text-sm font-medium",children:l}),(0,n.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Tap to add photo"})]}),d&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Processing image..."})]})}),a&&(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)("div",{className:"bg-black bg-opacity-50 rounded-full p-1",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})})]}),(0,n.jsx)(r.M,{children:o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>c(!1)}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-4 left-4 right-4 bg-white rounded-2xl p-6 z-50 shadow-2xl",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:a?"Update Photo":"Add Photo"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("button",{onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},className:"w-full bg-green-500 text-white py-4 rounded-xl font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-3",children:[(0,n.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Take Photo"]}),(0,n.jsxs)("button",{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},className:"w-full bg-blue-500 text-white py-4 rounded-xl font-medium hover:bg-blue-600 transition-colors flex items-center justify-center gap-3",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Choose from Gallery"]}),a&&(0,n.jsxs)("button",{onClick:()=>{t(""),c(!1)},className:"w-full bg-red-500 text-white py-4 rounded-xl font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-3",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Photo"]}),(0,n.jsx)("button",{onClick:()=>c(!1),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})}),(0,n.jsx)("input",{ref:u,type:"file",accept:"image/*",onChange:x,className:"hidden"}),(0,n.jsx)("input",{ref:h,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"})]})}},4021:function(e,t,a){"use strict";a.d(t,{R:function(){return l}});var n=a(7437);a(2265);var i=a(2261),s=a(1554),r=a(7802);function l(e){let{className:t=""}=e,{theme:a,setTheme:l,resolvedTheme:o}=(0,s.F)(),c=(0,r.OW)(),d="dark"===o;return(0,n.jsxs)(i.E.button,{onClick:()=>{l(d?"light":"dark"),c.lightImpact()},className:"p-2 rounded-full bg-white/80 backdrop-blur border border-gray-200 shadow-lg hover:bg-white/90 transition-colors dark:bg-gray-800/80 dark:border-gray-700 dark:hover:bg-gray-800/90 ".concat(t),"aria-label":d?"Switch to light mode":"Switch to dark mode",whileTap:{scale:.95},children:[(0,n.jsxs)(i.E.div,{initial:!1,animate:{rotate:d?180:0,scale:d?1.1:1},transition:{duration:.3,ease:"easeInOut"},className:"relative w-6 h-6",children:[(0,n.jsx)(i.E.svg,{className:"absolute inset-0 w-6 h-6 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:d?0:1,scale:d?.5:1,rotate:d?90:0},transition:{duration:.3},children:(0,n.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}),(0,n.jsx)(i.E.svg,{className:"absolute inset-0 w-6 h-6 text-indigo-400",fill:"currentColor",viewBox:"0 0 24 24",animate:{opacity:d?1:0,scale:d?1:.5,rotate:d?0:-90},transition:{duration:.3},children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})})]}),(0,n.jsx)(i.E.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:d?"0 0 20px rgba(99, 102, 241, 0.3)":"0 0 20px rgba(251, 191, 36, 0.3)"},transition:{duration:.3}})]})}}},function(e){e.O(0,[216,568,744],function(){return e(e.s=6714)}),_N_E=e.O()}]);