(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4808:function(e,t,n){Promise.resolve().then(n.t.bind(n,880,23)),Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,6683)),Promise.resolve().then(n.bind(n,930)),Promise.resolve().then(n.bind(n,1917))},6683:function(e,t,n){"use strict";n.d(t,{Providers:function(){return c}});var r=n(7437),s=n(1554),i=n(1256),a=n(4362),o=n(2265);function l(e){let{children:t}=e,{user:n,loading:s}=(0,a.a)(),{syncWithDatabase:l}=(0,i.qF)();return(0,o.useEffect)(()=>{!s&&n&&(console.log("User authenticated, syncing plants with database..."),l().catch(e=>{console.warn("Plant sync failed:",e)}))},[n,s,l]),(0,r.jsx)(r.Fragment,{children:t})}function c(e){let{children:t}=e;return(0,r.jsx)(s.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!1,children:(0,r.jsx)(a.H,{children:(0,r.jsx)(i.BO,{children:(0,r.jsx)(l,{children:t})})})})}},930:function(e,t,n){"use strict";n.d(t,{BottomNavigation:function(){return l}});var r=n(7437);n(2265);var s=n(7648),i=n(9376),a=n(2261),o=n(7802);function l(){let e=(0,i.usePathname)(),t=(0,o.OW)(),n=()=>{t.lightImpact()};return(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe z-40",children:(0,r.jsx)("div",{className:"flex items-center justify-around px-6 py-2",children:[{href:"/list",label:"Plants",icon:e=>(0,r.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{href:"/",label:"Home",icon:e=>(0,r.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{href:"/add-plant",label:"Add",icon:e=>(0,r.jsx)("svg",{className:"w-6 h-6 ".concat(e?"text-green-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}].map(t=>{let i=e===t.href;return(0,r.jsxs)(s.default,{href:t.href,onClick:n,className:"relative flex flex-col items-center justify-center py-2 px-4 min-w-0 flex-1",children:[i&&(0,r.jsx)(a.E.div,{layoutId:"activeTab",className:"absolute -top-1 w-2 h-2 bg-green-600 rounded-full",initial:!1,transition:{type:"spring",stiffness:300,damping:30}}),(0,r.jsx)("div",{className:"mb-1",children:t.icon(i)}),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(i?"text-green-600":"text-gray-400"),children:t.label})]},t.href)})})})}},1917:function(e,t,n){"use strict";n.d(t,{Toaster:function(){return a}});var r=n(7437),s=n(2265);let i=[];function a(){let[e,t]=(0,s.useState)([]);return((0,s.useEffect)(()=>{let e=e=>t(e);return i.push(e),()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)}},[]),0===e.length)?null:(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:"\n            rounded-lg px-4 py-3 shadow-lg animate-slide-up\n            ".concat("destructive"===e.variant?"bg-red-500 text-white":"bg-white dark:bg-gray-800 border","\n          "),children:[(0,r.jsx)("div",{className:"font-medium",children:e.title}),e.description&&(0,r.jsx)("div",{className:"text-sm opacity-80",children:e.description})]},e.id))})}},4362:function(e,t,n){"use strict";n.d(t,{H:function(){return o},a:function(){return l}});var r=n(7437),s=n(2265),i=n(5843);let a=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await i.OQ.auth.getSession();c(t),o(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),d(!1)})();let{data:{subscription:e}}=i.OQ.auth.onAuthStateChange(async(e,t)=>{var n;c(t),o(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),d(!1)});return()=>e.unsubscribe()},[]);let h=async(e,t)=>{try{let{error:n}=await i.OQ.auth.signInWithPassword({email:e,password:t});if(n)return{error:n.message};return{}}catch(e){return{error:"An unexpected error occurred"}}},f=async(e,t,n)=>{try{let{error:r}=await i.OQ.auth.signUp({email:e,password:t,options:{data:{username:n||e.split("@")[0]}}});if(r)return{error:r.message};return{}}catch(e){return{error:"An unexpected error occurred"}}},m=async()=>{await i.OQ.auth.signOut()};return(0,r.jsx)(a.Provider,{value:{user:n,session:l,loading:u,signIn:h,signUp:f,signOut:m},children:t})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2778:function(){}},function(e){e.O(0,[410,216,568,744],function(){return e(e.s=4808)}),_N_E=e.O()}]);